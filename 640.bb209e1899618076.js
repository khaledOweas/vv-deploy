"use strict";(self.webpackChunkEKOWebUI=self.webpackChunkEKOWebUI||[]).push([[640],{640:(Qt,y,l)=>{l.r(y),l.d(y,{MedicalTestsModule:()=>kt});var m=l(6895),_=l(7799),C=l(9345),g=l(4325),d=l(5153),Z=l(1462),x=l(9724),t=l(4650),L=l(9320),B=l(1687),p=l(4006),S=l(1989);function F(i,s){if(1&i&&(t.TgZ(0,"caption"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" \u0628\u064a\u0627\u0646\u0627\u062a \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0633\u0639\u0627\u0631 | ",e.model.priceListName,"")}}function D(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",4),t._uU(2,"\u0645\u0641\u0639\u0644 \u061f "),t.qZA(),t.TgZ(3,"td",4),t._uU(4),t.qZA(),t.TgZ(5,"td",4)(6,"p-checkbox",13),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.model.isActive=o)}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.model.isActive?"\u0645\u0641\u0639\u0644":"\u063a\u064a\u0631 \u0645\u063a\u0639\u0644"),t.xp6(2),t.Q6J("ngModel",e.model.isActive)("disabled","delete"==e.mode)("binary",!0)}}function E(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",4),t._uU(2," \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 \u0627\u0644\u0645\u062a\u0628\u0642\u0629 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u0629 "),t.qZA(),t.TgZ(3,"td",4),t._uU(4),t.qZA(),t.TgZ(5,"td",4)(6,"input",5),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.model.remainingTests=o)}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.model.remainingTests),t.xp6(2),t.Q6J("ngModel",e.model.remainingTests)("disabled",!0)}}function N(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updatePriceList())}),t._uU(1," \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0642\u0627\u0626\u0645\u0629"),t.qZA()}}function J(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveNewPriceList())}),t._uU(1," \u062d\u0641\u0638 \u0627\u0644\u0642\u0627\u0626\u0645\u0629"),t.qZA()}}function I(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deletePriceList())}),t._uU(1," \u062d\u0630\u0641 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0646\u0647\u0627\u0626\u064a\u0627"),t.qZA()}}function z(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addRemainingTests())}),t._uU(1," \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629 "),t.qZA()}}function P(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.rePriceTestsFromMainPriceList())}),t._uU(1," \u0627\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0633\u0639\u064a\u0631 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629 "),t.qZA()}}let A=(()=>{class i{constructor(e,n,o,a,r){this.service=e,this.config=n,this.cdRef=o,this.cts=a,this.permissionManager=r,this.mode="add"}ngOnInit(){"add"==this.config.data.mode?(this.mode="add",this.model=new d.Z03):"edit"==this.config.data.mode?(this.model=this.config.data.event,this.mode="edit"):"delete"==this.config.data.mode&&(this.model=this.config.data.event,this.mode="delete")}deletePriceList(){this.permissionManager.isNotGranted(x.v.CanRemoveVisit)?this.cts.sendToster("warn","\u0644\u064a\u0633 \u0644\u062f\u064a\u0643 \u0635\u0644\u0627\u062d\u064a\u0629","\u0645\u062d\u0627\u0648\u0644\u0629 \u062d\u0630\u0641 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631 ","\u0645\u062d\u0627\u0648\u0644\u0629 \u062d\u0630\u0641 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631 "):this.service.deletePriceList(this.model.priceListId).subscribe({next:e=>{1==e&&(this.cts.sendToster("success","\u062d\u0630\u0641 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631","\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0628\u0646\u062c\u0627\u062d",`\u062d\u0630\u0641 \u0642\u0627\u0626\u0645\u0629 \u0627\u0633\u0639\u0627\u0631 \u0628\u0625\u0633\u0645 ${this.model.priceListName}  `),this.close())},error:e=>{}})}saveNewPriceList(){let e=new d.lAz;e.isActive=this.model.isActive,e.mainPricePrecentage=this.model.mainPricePrecentage,e.priceListName=this.model.priceListName,this.service.createPriceList(e).subscribe({next:n=>{1==n&&(this.cts.sendToster("success","\u0625\u0636\u0627\u0641\u0629 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631","\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0628\u0646\u062c\u0627\u062d",`\u0625\u0636\u0627\u0641\u0629 \u0642\u0627\u0626\u0645\u0629 \u0627\u0633\u0639\u0627\u0631 \u0628\u0625\u0633\u0645 ${this.model.priceListName} \u0648 \u0628\u0646\u0633\u0628\u0647 \u062e\u0635\u0645 ${this.model.mainPricePrecentage}   `),this.close())},error:n=>{}})}updatePriceList(){let e=new d.iTr;e.isActive=this.model.isActive,e.mainPricePrecentage=this.model.mainPricePrecentage,e.priceListName=this.model.priceListName,e.priceListId=this.model.priceListId,this.service.updatePriceList(e).subscribe({next:n=>{1==n&&(this.cts.sendToster("success","\u062a\u0639\u062f\u064a\u0644 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631","\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0628\u0646\u062c\u0627\u062d",`\u062a\u0639\u062f\u064a\u0644 \u0642\u0627\u0626\u0645\u0629 \u0627\u0633\u0639\u0627\u0631 \u0628\u0625\u0633\u0645 ${this.model.priceListName} \u0648 \u0628\u0646\u0633\u0628\u0647 \u062e\u0635\u0645 ${this.model.mainPricePrecentage}   `),this.close())},error:n=>{}})}addRemainingTests(){this.service.updatePriceListByMainPriceList(this.model.priceListId).subscribe({next:e=>{this.cts.sendToster("success","\u062a\u0643\u0645\u0644\u0629 \u0627\u0644\u062a\u062d\u0627\u064a\u0644","\u062a\u0645 \u062a\u0643\u0645\u0644\u0629 \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0633\u0639\u0627\u0631",`\u062a\u0643\u0645\u0644\u0629 \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 \u062d\u0633\u0628 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u0626\u0633\u064a\u0647 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0633\u0639\u0627\u0631 ${this.model.priceListName}`),this.model.remainingTests=0,this.close()},error:e=>{}})}rePriceTestsFromMainPriceList(){this.service.updatePriceListPrecentageFromMainPriceID(this.model.priceListId,this.model.mainPricePrecentage).subscribe({next:e=>{this.cts.sendToster("success","\u0625\u0639\u0627\u062f\u0629 \u062a\u0633\u0639\u064a\u0631","\u062a\u0645 \u0625\u0639\u0627\u062f\u0629 \u062a\u0633\u0639\u064a\u0631 \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0633\u0639\u0627\u0631",`\u0625\u0639\u0627\u062f\u0629 \u062a\u0633\u0639\u064a\u0631  \u062d\u0633\u0628 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u0626\u0633\u064a\u0647 \u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0633\u0639\u0627\u0631 ${this.model.priceListName}`),this.close()},error:e=>{}})}close(){this.cdRef.detectChanges(),document.getElementsByClassName("pi-times")[0].click()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.KUN),t.Y36(g.S),t.Y36(t.sBO),t.Y36(L.m),t.Y36(B.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-price-list"]],decls:36,vars:14,consts:[[1,"table","table-sm"],[4,"ngIf"],[1,"table-active"],["scope","col"],["scope","row"],[1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row"],[2,"direction","ltr"],["href","#",1,"btn","btn-light","btn-shadow","font-weight-bold","mx-2",3,"click"],["href","#","class","btn btn-primary btn-shadow font-weight-bold mx-2",3,"click",4,"ngIf"],["href","#","class","btn btn-success btn-shadow font-weight-bold mx-2",3,"click",4,"ngIf"],["href","#","class","btn btn-danger btn-shadow font-weight-bold mx-2",3,"click",4,"ngIf"],["href","#","class","btn btn-warning btn-shadow font-weight-bold mx-2",3,"click",4,"ngIf"],["inputId","binary3",3,"ngModel","disabled","binary","ngModelChange"],["href","#",1,"btn","btn-primary","btn-shadow","font-weight-bold","mx-2",3,"click"],["href","#",1,"btn","btn-success","btn-shadow","font-weight-bold","mx-2",3,"click"],["href","#",1,"btn","btn-danger","btn-shadow","font-weight-bold","mx-2",3,"click"],["href","#",1,"btn","btn-warning","btn-shadow","font-weight-bold","mx-2",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"table",0),t.YNc(1,F,2,1,"caption",1),t.TgZ(2,"thead")(3,"tr",2)(4,"th",3),t._uU(5,"\u0627\u0644\u0628\u064a\u0627\u0646"),t.qZA(),t.TgZ(6,"th",3),t._uU(7,"\u0627\u0644\u0642\u0640\u064a\u0645\u0629"),t.qZA(),t.TgZ(8,"th",3),t._uU(9," \u0627\u0644\u062a\u0639\u062f\u064a\u0644 "),t.qZA()()(),t.TgZ(10,"tbody")(11,"tr")(12,"td",4),t._uU(13,"\u0627\u0644\u0623\u0633\u0640\u0640\u0645"),t.qZA(),t.TgZ(14,"td",4),t._uU(15),t.qZA(),t.TgZ(16,"td",4)(17,"input",5),t.NdJ("ngModelChange",function(a){return n.model.priceListName=a}),t.qZA()()(),t.YNc(18,D,7,4,"tr",1),t.TgZ(19,"tr")(20,"td",4),t._uU(21," \u0627\u0644\u0646\u0633\u0628\u0647 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629 "),t.qZA(),t.TgZ(22,"td",4),t._uU(23),t.qZA(),t.TgZ(24,"td",4)(25,"input",5),t.NdJ("ngModelChange",function(a){return n.model.mainPricePrecentage=a}),t.qZA()()(),t.YNc(26,E,7,3,"tr",1),t.qZA()(),t.TgZ(27,"div",6)(28,"p",7)(29,"a",8),t.NdJ("click",function(){return n.close()}),t._uU(30," \u0625\u063a\u0644\u0627\u0642"),t.qZA(),t.YNc(31,N,2,0,"a",9),t.YNc(32,J,2,0,"a",10),t.YNc(33,I,2,0,"a",11),t.YNc(34,z,2,0,"a",10),t.YNc(35,P,2,0,"a",12),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf","edit"==n.mode),t.xp6(14),t.hij(" ",n.model.priceListName," "),t.xp6(2),t.Q6J("ngModel",n.model.priceListName)("disabled","delete"==n.mode),t.xp6(1),t.Q6J("ngIf","edit"==n.mode||"delete"==n.mode),t.xp6(5),t.Oqu(n.model.mainPricePrecentage),t.xp6(2),t.Q6J("ngModel",n.model.mainPricePrecentage)("disabled","delete"==n.mode),t.xp6(1),t.Q6J("ngIf","edit"==n.mode||"delete"==n.mode),t.xp6(5),t.Q6J("ngIf","edit"==n.mode),t.xp6(1),t.Q6J("ngIf","add"==n.mode),t.xp6(1),t.Q6J("ngIf","delete"==n.mode),t.xp6(1),t.Q6J("ngIf","edit"==n.mode&&n.model.remainingTests),t.xp6(1),t.Q6J("ngIf","edit"==n.mode))},dependencies:[m.O5,p.Fj,p.JJ,p.On,S.XZ]}),i})();var b=l(2122),h=l(99),O=l(805),U=l(3608),k=l(5593),q=l(5722),M=l(2210),Q=l(1740),R=l(4463),Y=l(5186);const $=function(){return{"min-width":"200px"}};function H(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"p-multiSelect",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.selectedColumns=o)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Akn(t.DdM(4,$)),t.Q6J("options",e.cols)("ngModel",e.selectedColumns)}}function j(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.exportExcel())}),t.qZA()}}function K(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",5),t.YNc(1,H,1,5,"p-multiSelect",6),t.TgZ(2,"span",7)(3,"div",8)(4,"span",9),t.O4$(),t.TgZ(5,"svg",10),t._UZ(6,"rect",11)(7,"path",12),t.qZA()(),t.kcU(),t.TgZ(8,"input",13),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw(),r=t.MAs(1);return t.KtG(a.applyFilterGlobal(o,"contains",r))}),t.qZA()(),t.YNc(9,j,1,0,"button",14),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.chooseColomns),t.xp6(8),t.Q6J("ngIf",e.downloadExcel)}}function G(i,s){1&i&&(t.TgZ(0,"th",23),t._UZ(1,"p-tableHeaderCheckbox"),t.qZA())}function V(i,s){if(1&i&&(t.TgZ(0,"th",24),t._uU(1),t._UZ(2,"p-sortIcon",25),t.qZA()),2&i){const e=s.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",e.header," "),t.xp6(1),t.Q6J("field",e.field)}}function W(i,s){1&i&&t._UZ(0,"th",26)}function X(i,s){1&i&&(t.TgZ(0,"th",23),t._UZ(1,"p-tableHeaderCheckbox"),t.qZA())}function tt(i,s){if(1&i&&t._UZ(0,"p-columnFilter",28),2&i){const e=t.oxw(2).$implicit;t.s9C("field",e.field)}}function et(i,s){if(1&i&&(t.ynx(0),t.YNc(1,tt,1,1,"p-columnFilter",27),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.filtered)}}const nt=function(){return{width:"150px"}};function it(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"p-dropdown",32),t.NdJ("onChange",function(o){t.CHM(e);const a=t.oxw(5);return t.KtG(a.filterActive(o))}),t.qZA()}if(2&i){const e=t.oxw(5);t.Akn(t.DdM(3,nt)),t.Q6J("options",e.allStatus)}}function ot(i,s){1&i&&(t.TgZ(0,"p-columnFilter",30),t.YNc(1,it,1,4,"ng-template",31),t.qZA()),2&i&&t.Q6J("showMenu",!1)}function at(i,s){if(1&i&&(t.ynx(0),t.YNc(1,ot,2,1,"p-columnFilter",29),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.filtered)}}function st(i,s){if(1&i&&(t.TgZ(0,"th"),t.YNc(1,et,2,1,"ng-container",22),t.YNc(2,at,2,1,"ng-container",22),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf","text"==e.type||"date"==e.type||"phonenumber"==e.type||"gender"==e.type||"lookup-category"==e.type),t.xp6(1),t.Q6J("ngIf","active"==e.type)}}function rt(i,s){1&i&&t._UZ(0,"th")}function lt(i,s){if(1&i&&(t.TgZ(0,"tr",17),t.YNc(1,G,2,0,"th",18),t.YNc(2,V,3,3,"th",19),t.YNc(3,W,1,0,"th",20),t.qZA(),t.TgZ(4,"tr",17),t.YNc(5,X,2,0,"th",18),t.YNc(6,st,3,2,"th",21),t.YNc(7,rt,1,0,"th",22),t.qZA()),2&i){const e=s.$implicit,n=s.$implicit,o=s.rowIndex,a=t.oxw();t.Q6J("pSelectableRow",e)("pSelectableRowIndex",o),t.xp6(1),t.Q6J("ngIf",a.multipleSelectChechBox),t.xp6(1),t.Q6J("ngForOf",n),t.xp6(1),t.Q6J("ngIf",a.FirstBtn||a.SecondBtn||a.ThirdBtn),t.xp6(1),t.Q6J("pSelectableRow",e)("pSelectableRowIndex",o),t.xp6(1),t.Q6J("ngIf",a.multipleSelectChechBox),t.xp6(1),t.Q6J("ngForOf",n),t.xp6(1),t.Q6J("ngIf",a.FirstBtn||a.SecondBtn||a.ThirdBtn)}}function ct(i,s){if(1&i&&(t.TgZ(0,"td"),t._UZ(1,"p-tableCheckbox",33),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("value",e)}}function ut(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.BindData(n,e)," ")}}function dt(i,s){if(1&i&&(t.TgZ(0,"span"),t._UZ(1,"app-mobile-phone",34),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("number",o.BindData(n,e))}}function pt(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.BindAge(n,e)," ")}}function mt(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.BindDate(n,e)," ")}}function ht(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.BindTime(n,e)," ")}}function _t(i,s){1&i&&(t.TgZ(0,"span",36),t._UZ(1,"i",37),t.qZA())}function gt(i,s){1&i&&(t.TgZ(0,"span",36),t._UZ(1,"i",38),t.qZA())}function ft(i,s){if(1&i&&(t.TgZ(0,"span"),t.YNc(1,_t,2,0,"span",35),t.YNc(2,gt,2,0,"span",35),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.getBooleanValue(n,e.field)),t.xp6(1),t.Q6J("ngIf",!o.getBooleanValue(n,e.field))}}function Tt(i,s){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,ut,2,1,"span",22),t.YNc(2,dt,2,1,"span",22),t.YNc(3,pt,2,1,"span",22),t.YNc(4,mt,2,1,"span",22),t.YNc(5,ht,2,1,"span",22),t.YNc(6,ft,3,2,"span",22),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf","text"==e.type),t.xp6(1),t.Q6J("ngIf","phonenumber"==e.type),t.xp6(1),t.Q6J("ngIf","age"==e.type),t.xp6(1),t.Q6J("ngIf","date"==e.type),t.xp6(1),t.Q6J("ngIf","time"==e.type),t.xp6(1),t.Q6J("ngIf","bool"==e.type||"active"==e.type)}}function Ct(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.rowFirstClick(o))}),t.qZA()}if(2&i){const e=t.oxw(3);t.Gre(" btn-xs bg-",e.classFirstBtn,""),t.Q6J("innerHTML",e.contentFirstBtn,t.oJD)}}function bt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.rowSecondClick(o))}),t.qZA()}if(2&i){const e=t.oxw(3);t.Gre(" btn-xs bg-",e.classSecondBtn,""),t.Q6J("innerHTML",e.contentSecondBtn,t.oJD)}}function xt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.rowThirdClick(o))}),t.qZA()}if(2&i){const e=t.oxw(3);t.Gre(" btn-xs bg-",e.classThirdBtn,""),t.Q6J("innerHTML",e.contentThirdBtn,t.oJD)}}function At(i,s){if(1&i&&(t.TgZ(0,"td")(1,"span",39),t.YNc(2,Ct,1,4,"a",40),t.YNc(3,bt,1,4,"a",40),t.YNc(4,xt,1,4,"a",40),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.FirstBtn),t.xp6(1),t.Q6J("ngIf",e.SecondBtn),t.xp6(1),t.Q6J("ngIf",e.ThirdBtn)}}function Mt(i,s){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,ct,2,1,"td",22),t.YNc(2,Tt,7,6,"td",21),t.YNc(3,At,5,3,"td",22),t.qZA()),2&i){const e=s.columns,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.multipleSelectChechBox),t.xp6(1),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",n.FirstBtn||n.SecondBtn||n.ThirdBtn)}}const vt=function(){return{"min-width":"75rem"}},yt=function(){return[10,25,50,100,150,200,250,300,500,1e3,2e3,3e3]};let w=(()=>{class i{constructor(){this.data=[],this.dataChange=new t.vpe,this.downloadExcel=!1,this.downloadExcelEvent=new t.vpe,this.totalRecordsChange=new t.vpe,this.lazyLoad=new t.vpe,this.lazyLoadChangeActive=new t.vpe,this.selectedRows=[],this.selectAll=!1,this.loading=!1,this.chooseColomns=!0,this.FirstBtn=!1,this.SecondBtn=!1,this.ThirdBtn=!1,this.classFirstBtn="danger",this.classSecondBtn="warning",this.classThirdBtn="info",this.contentFirstBtn="NULL",this.contentSecondBtn="NULL",this.contentThirdBtn="NULL",this.firstButtonEvent=new t.vpe,this.secondButtonEvent=new t.vpe,this.thirdButtonEvent=new t.vpe,this.multipleSelectChechBox=!1,this.allStatus=[],this.allStatus=[{id:1,name:"\u0646\u0639\u0645"},{id:2,name:"\u0644\u0627"}],this.data=[]}ngOnInit(){this.selectedColumns=this.cols.filter(e=>0==e.hidden)}lazyLoadVoid(e){this.lazyLoad.emit(e)}rowFirstClick(e){this.firstButtonEvent.emit(e)}rowSecondClick(e){this.secondButtonEvent.emit(e)}rowThirdClick(e){this.thirdButtonEvent.emit(e)}onSelectionChange(e=[]){this.selectAll=e.length===this.totalRecords,this.selectedRows=e}onSelectAllChange(e){e.checked?this.lazyLoad.emit(e):(this.selectedRows=[],this.selectAll=!1)}BindData(e,n,o=!1){return o?String(e[n.field]):String(e[n.field]).length>50?String(e[n.field]).substring(0,50)+"....":"null"==String(e[n.field])?"":String(e[n.field])}BindAge(e,n){let o;return o=String(e[n.field]).split(","),"Y"==o[1]?o[0]:"M"==o[1]?`${o[0]} \u0634\u0647\u0648\u0631`:"D"==o[1]?`${o[0]} \u064a\u0648\u0645`:void 0}BindDate(e,n){return new m.uU("EN").transform(e[n.field],"yyyy-MM-dd")}GetValue(e,n){return"null"==String(e[n])?"":String(e[n])}GetNumberValue(e,n){return null==Number(e[n])?null:Number(e[n])}getBooleanValue(e,n){return!0===e[n]||"number"==typeof e[n]&&e[n]>0}BindTime(e,n){let o=e[n.field];return o=o.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[o],o.length>1&&(o=o.slice(1),o[5]=+o[0]<12?" AM":" PM",o[0]=+o[0]%12||12),o.join("").replace(":00 PM"," PM").replace(":00 AM"," AM")}filterActive(e){console.log(e),this.lazyLoadChangeActive.emit(e)}applyFilterGlobal(e,n,o){o.filterGlobal(e.target.value,n)}exportExcel(){this.downloadExcelEvent.emit()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-SharedLazyDataTable"]],inputs:{cols:"cols",data:"data",downloadExcel:"downloadExcel",totalRecords:"totalRecords",dataKey:"dataKey",chooseColomns:"chooseColomns",FirstBtn:"FirstBtn",SecondBtn:"SecondBtn",ThirdBtn:"ThirdBtn",classFirstBtn:"classFirstBtn",classSecondBtn:"classSecondBtn",classThirdBtn:"classThirdBtn",contentFirstBtn:"contentFirstBtn",contentSecondBtn:"contentSecondBtn",contentThirdBtn:"contentThirdBtn",multipleSelectChechBox:"multipleSelectChechBox"},outputs:{dataChange:"dataChange",downloadExcelEvent:"downloadExcelEvent",totalRecordsChange:"totalRecordsChange",lazyLoad:"lazyLoad",lazyLoadChangeActive:"lazyLoadChangeActive",firstButtonEvent:"firstButtonEvent",secondButtonEvent:"secondButtonEvent",thirdButtonEvent:"thirdButtonEvent"},decls:5,vars:15,consts:[["currentPageReportTemplate","\u0645\u0646 {first} \u0627\u0644\u064a  {last}  \u0645\u0646 \u0625\u062c\u0645\u0627\u0644\u064a {totalRecords}   ",3,"value","lazy","tableStyle","selection","columns","selectAll","paginator","rows","totalRecords","loading","rowsPerPageOptions","showCurrentPageReport","dataKey","onLazyLoad","selectionChange","selectAllChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex",2,"justify-content","space-between","display","flex"],["optionLabel","header","placeholder","Choose Columns","selectedItemsLabel","\u0639\u062f\u062f {0}  ",3,"options","ngModel","style","ngModelChange",4,"ngIf"],[2,"display","flex","flex-direction","row-reverse"],[1,"d-flex","align-items-center","position-relative","my-1","Mob-SearchDataTable"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","black"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556\n                                    6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19\n                                    15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5\n                                    7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667\n                                    17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","black"],["pInputText","","type","text","placeholder","\u0628\u062d\u0640\u062b..",1,"form-control","form-control","w-250px","ps-14","Mob-SearchDataTable",3,"input"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","class","p-button-success mx-2","pTooltip","XLS","tooltipPosition","bottom",3,"click",4,"ngIf"],["optionLabel","header","placeholder","Choose Columns","selectedItemsLabel","\u0639\u062f\u062f {0}  ",3,"options","ngModel","ngModelChange"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","XLS","tooltipPosition","bottom",1,"p-button-success","mx-2",3,"click"],[3,"pSelectableRow","pSelectableRowIndex"],["style","width: 4rem",4,"ngIf"],[3,"pSortableColumn",4,"ngFor","ngForOf"],["translate","Shared.Tools",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"width","4rem"],[3,"pSortableColumn"],[3,"field"],["translate","Shared.Tools"],["type","text",3,"field",4,"ngIf"],["type","text",3,"field"],["field","status","matchMode","equals",3,"showMenu",4,"ngIf"],["field","status","matchMode","equals",3,"showMenu"],["pTemplate","filter"],["styleClass","taj-font fc-primng ","optionLabel","name","name","status","optionValue","id",3,"options","onChange"],[3,"value"],[3,"number"],["class","",4,"ngIf"],[1,""],[1,"pi","pi-check",2,"color","#37ca00","border","1px solid","border-radius","5px","font-size","17px"],[1,"pi","pi-times",2,"color","#fe9b9b","border","1px solid","border-radius","5px","font-size","17px"],[1,"button-group"],[3,"innerHTML","class","click",4,"ngIf"],[3,"innerHTML","click"]],template:function(e,n){1&e&&(t.TgZ(0,"p-table",0,1),t.NdJ("onLazyLoad",function(a){return n.lazyLoadVoid(a)})("selectionChange",function(a){return n.onSelectionChange(a)})("selectAllChange",function(a){return n.onSelectAllChange(a)}),t.YNc(2,K,10,2,"ng-template",2),t.YNc(3,lt,8,10,"ng-template",3),t.YNc(4,Mt,4,3,"ng-template",4),t.qZA()),2&e&&(t.s9C("dataKey",n.dataKey),t.Q6J("value",n.data)("lazy",!0)("tableStyle",t.DdM(13,vt))("selection",n.selectedRows)("columns",n.selectedColumns)("selectAll",n.selectAll)("paginator",!0)("rows",10)("totalRecords",n.totalRecords)("loading",n.loading)("rowsPerPageOptions",t.DdM(14,yt))("showCurrentPageReport",!0))},dependencies:[m.sg,m.O5,h.iA,O.jx,h.lQ,h.Ei,h.fz,h.UA,h.Mo,h.xl,U.u,k.Hq,q.NU,M.Lt,p.JJ,p.On,Q.o,R.Pi,Y.E],styles:[".button-group[_ngcontent-%COMP%]{display:inline-block}.button-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}"]}),i})(),Zt=(()=>{class i extends b.H{constructor(e,n){super(n),this.dialogService=e,this.contentSecondBtnForFirstButton='<i class="pi pi-file-edit text-white"></i>',this.classForSecondButtonForSecondButton=" bg-info text-white",this.contentFirstBtnForFirstButton='<i class="pi pi-trash text-white"></i>',this.classForFirstButtonForFirstButton=" bg-danger text-white",this.isActive=!1,this.Cols=Z.aK}ngOnInit(){this.radioButtonValue="ActiveOnly",this.isActive=!0}UpdateIsActive(){switch(this.radioButtonValue){case"All":this.isActive=void 0;break;case"ActiveOnly":this.isActive=!0;break;case"InActiveOnly":this.isActive=!1}}filterActive(e){this.isActive=1==e.value,this.Search(this.lastFilters)}Search(e){this.lastFilters=e;let n=new d.YEd;this.fillFiltrationModelFromEvent(n,e),n.isActive=this.isActive,this.service.getListOfPriceLists(n).subscribe({next:o=>{this.Data=o.items,this.totalRecords=o.items?.length??0,this.cdRef.detectChanges()},error:o=>{console.error(o)}})}edit(e){this.dialogService.open(A,{data:{mode:"edit",event:e},header:`\u062a\u0639\u062f\u064a\u0644  ( ${e.priceListName} ) `,width:"66%",maximizable:!0,resizable:!0,draggable:!0})}delete(e){this.permissionManager.isNotGranted(x.v.CanRemoveVisit)?this.cts.sendToster("warn","\u0644\u064a\u0633 \u0644\u062f\u064a\u0643 \u0635\u0644\u0627\u062d\u064a\u0629","\u0645\u062d\u0627\u0648\u0644\u0629 \u062d\u0630\u0641 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631  ","\u0645\u062d\u0627\u0648\u0644\u0629 \u062d\u0630\u0641 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631  "):this.dialogService.open(A,{data:{mode:"delete",event:e},header:`\u062d\u0630\u0641  ( ${e.priceListName} ) `,width:"66%",maximizable:!0,resizable:!0,draggable:!0})}CreateNewPriceList(){this.dialogService.open(A,{data:{mode:"add"},header:"\u0625\u0636\u0640\u0627\u0641\u0629 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631 \u062c\u062f\u064a\u062f\u0629",width:"66%",maximizable:!0,resizable:!0,draggable:!0})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.xA),t.Y36(t.zs3))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-price-list"]],features:[t._Bn([g.xA]),t.qOj],decls:11,vars:8,consts:[[1,"card","card-flush","shadow-sm"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"card-body","py-5"],[1,"row","m-7"],[3,"cols","data","dataKey","multipleSelectChechBox","totalRecords","FirstBtn","classFirstBtn","contentFirstBtn","dataChange","totalRecordsChange","firstButtonEvent","lazyLoad","lazyLoadChangeActive"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," \u0642\u0648\u0627\u0626\u0645 \u0627\u0644\u0623\u0633\u0639\u0627\u0631 "),t.qZA(),t.TgZ(4,"div",3)(5,"a",4),t.NdJ("click",function(){return n.CreateNewPriceList()}),t._uU(6," \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631 \u062c\u062f\u064a\u062f\u0629 "),t.qZA()()(),t.TgZ(7,"div",5),t._UZ(8,"br"),t.TgZ(9,"div",6)(10,"app-SharedLazyDataTable",7),t.NdJ("dataChange",function(a){return n.Data=a})("totalRecordsChange",function(a){return n.totalRecords=a})("firstButtonEvent",function(a){return n.delete(a)})("lazyLoad",function(a){return n.Search(a)})("lazyLoadChangeActive",function(a){return n.filterActive(a)}),t.qZA()()()()),2&e&&(t.xp6(10),t.Q6J("cols",n.Cols)("data",n.Data)("dataKey","id")("multipleSelectChechBox",!0)("totalRecords",n.totalRecords)("FirstBtn",!0)("classFirstBtn",n.classForFirstButtonForFirstButton)("contentFirstBtn",n.contentFirstBtnForFirstButton))},dependencies:[w]}),i})();var St=l(5226),v=l.n(St);function Lt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SaveOrUpdate(1))}),t._uU(1," \u062d\u0641\u0638 \u0648 \u0625\u0636\u0627\u0641\u0629 \u062c\u062f\u064a\u062f "),t._UZ(2,"i",21),t.qZA()}}function Bt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SaveOrUpdate(2))}),t._uU(1," \u062d\u0641\u0638 \u0648 \u0631\u062c\u0648\u0639 \u0644\u0644\u0642\u0627\u0626\u0645\u0629 "),t._UZ(2,"i",21),t.qZA()}}function Ft(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SaveOrUpdate(3))}),t._uU(1," \u062a\u0639\u062f\u064a\u0644 \u0648 \u0631\u062c\u0648\u0639 \u0644\u0644\u0642\u0627\u0626\u0645\u0629 "),t._UZ(2,"i",21),t.qZA()}}function Dt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SaveOrUpdate(4))}),t._uU(1," \u062a\u0639\u062f\u064a\u0644 \u0648 \u0625\u0636\u0627\u0641\u0629 \u062c\u062f\u064a\u062f "),t._UZ(2,"i",21),t.qZA()}}function Nt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",11),t.NdJ("ngModelChange",function(o){const r=t.CHM(e).$implicit;return t.KtG(r.title=o)}),t.qZA()(),t.TgZ(3,"td")(4,"input",11),t.NdJ("ngModelChange",function(o){const r=t.CHM(e).$implicit;return t.KtG(r.default=o)}),t.qZA()(),t.TgZ(5,"td")(6,"input",11),t.NdJ("ngModelChange",function(o){const r=t.CHM(e).$implicit;return t.KtG(r.unit=o)}),t.qZA()(),t.TgZ(7,"td")(8,"input",11),t.NdJ("ngModelChange",function(o){const r=t.CHM(e).$implicit;return t.KtG(r.normal=o)}),t.qZA()(),t.TgZ(9,"td")(10,"button",12),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.Delete(a))}),t._uU(11," Delete "),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("ngModel",e.title),t.xp6(2),t.Q6J("ngModel",e.default),t.xp6(2),t.Q6J("ngModel",e.unit),t.xp6(2),t.Q6J("ngModel",e.normal)}}const It=[{path:"",redirectTo:"PriceLists",pathMatch:"full"},{path:"PriceLists",canActivate:[C.o],component:Zt,data:{animation:"PriceLists"}},{path:"MedicalTest",canActivate:[C.o],component:(()=>{class i extends b.H{constructor(e,n){super(n),this.dialogService=e,this.contentThirdBtnForThirdButton='<i class="pi pi-spin pi-cog text-white"></i>',this.classForThirdButtonForThirdButton=" bg-warning text-white",this.contentSecondBtnForSecondButton='<i class="pi pi-file-edit text-white"></i>',this.classForSecondButtonForSecondButton=" bg-info text-white",this.contentFirstBtnForFirstButton='<i class="pi pi-trash text-white"></i>',this.classForFirstButtonForFirstButton=" bg-danger text-white",this.currentParameterSearch=new d.YEd,this.Cols=Z.mE}ngOnInit(){}filterActive(e){this.Search(this.lastFilters)}Search(e){this.lastFilters=e;let n=new d.YEd;this.fillFiltrationModelFromEvent(n,e),this.currentParameterSearch=n,this.service.getAllTests(n).subscribe({next:o=>{this.Data=o.items,this.totalRecords=o?.totalCount,this.cdRef.detectChanges()},error:o=>{console.error(o)}})}edit(e){this.router.navigate(["/MedicalTests/CreateOrEditMedicalTest"],{queryParams:{test:JSON.stringify(e)}})}config(e){this.router.navigate(["/MedicalTests/MedicalTestConfiguration"],{queryParams:{testId:e.id}})}delete(e){this.permissionManager.isNotGranted(x.v.CanRemoveVisit)?this.cts.sendToster("warn","\u0644\u064a\u0633 \u0644\u062f\u064a\u0643 \u0635\u0644\u0627\u062d\u064a\u0629","\u0645\u062d\u0627\u0648\u0644\u0629 \u062d\u0630\u0641 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631  ","\u0645\u062d\u0627\u0648\u0644\u0629 \u062d\u0630\u0641 \u0642\u0627\u0626\u0645\u0629 \u0623\u0633\u0639\u0627\u0631  "):v().fire({title:" \u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u062d\u0630\u0641 \u061f ",html:`\u0633\u064a\u062a\u0645 \u062d\u0630\u0641 ${e.testName}`,showDenyButton:!0,confirmButtonText:"\u0646\u0639\u0645",denyButtonText:"\u0644\u0627"}).then(n=>{n.isConfirmed?this.service.deleteTest(e.id).subscribe({next:o=>{501==o&&v().fire("\u062a\u062d\u0644\u064a\u0644 \u0644\u0627 \u064a\u0645\u0643\u0646 \u062d\u0630\u0641\u0629 ","\u0647\u0630\u0627 \u0627\u0644\u062a\u062d\u0644\u064a\u0644 \u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0646 \u0642\u0628\u0644 \u0628\u0639\u0636 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a , \u0644\u0627 \u064a\u0645\u0643\u0646 \u062d\u0630\u0641\u0647  \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0639\u0644\u064a\u0647 \u0641\u0642\u0637 ","info");const a=this.Data.indexOf(e);this.Data.splice(a,1),this.cdRef.detectChanges()}}):n.isDenied&&v().fire("\u062a\u0645 \u0627\u0644\u063a\u0627\u0621 \u0627\u0644\u0639\u0645\u0644\u064a\u0629","","info")})}downloadExcelEvent(){this.service.exportTests(this.currentParameterSearch).subscribe({next:e=>{this.downloadFromFileDto(e)}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.xA),t.Y36(t.zs3))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-MedicalTest"]],features:[t._Bn([g.xA]),t.qOj],decls:11,vars:15,consts:[[1,"card","card-flush","shadow-sm"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],["routerLink","/MedicalTests/CreateOrEditMedicalTest",1,"btn","btn-primary"],[1,"card-body","py-5"],[1,"row","m-7"],[3,"cols","data","dataKey","multipleSelectChechBox","totalRecords","FirstBtn","classFirstBtn","contentFirstBtn","SecondBtn","classSecondBtn","contentSecondBtn","ThirdBtn","classThirdBtn","contentThirdBtn","downloadExcel","dataChange","totalRecordsChange","firstButtonEvent","secondButtonEvent","thirdButtonEvent","lazyLoad","lazyLoadChangeActive","downloadExcelEvent"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 "),t.qZA(),t.TgZ(4,"div",3)(5,"a",4),t._uU(6," \u062a\u062d\u0644\u064a\u0644 \u062c\u062f\u064a\u062f "),t.qZA()()(),t.TgZ(7,"div",5),t._UZ(8,"br"),t.TgZ(9,"div",6)(10,"app-SharedLazyDataTable",7),t.NdJ("dataChange",function(a){return n.Data=a})("totalRecordsChange",function(a){return n.totalRecords=a})("firstButtonEvent",function(a){return n.delete(a)})("secondButtonEvent",function(a){return n.edit(a)})("thirdButtonEvent",function(a){return n.config(a)})("lazyLoad",function(a){return n.Search(a)})("lazyLoadChangeActive",function(a){return n.filterActive(a)})("downloadExcelEvent",function(){return n.downloadExcelEvent()}),t.qZA()()()()),2&e&&(t.xp6(10),t.Q6J("cols",n.Cols)("data",n.Data)("dataKey","id")("multipleSelectChechBox",!0)("totalRecords",n.totalRecords)("FirstBtn",!0)("classFirstBtn",n.classForFirstButtonForFirstButton)("contentFirstBtn",n.contentFirstBtnForFirstButton)("SecondBtn",!0)("classSecondBtn",n.classForSecondButtonForSecondButton)("contentSecondBtn",n.contentSecondBtnForSecondButton)("ThirdBtn",!0)("classThirdBtn",n.classForThirdButtonForThirdButton)("contentThirdBtn",n.contentThirdBtnForThirdButton)("downloadExcel",!0))},dependencies:[w,_.rH]}),i})(),data:{animation:"MedicalTest"}},{path:"CreateOrEditMedicalTest",canActivate:[C.o],component:(()=>{class i extends b.H{constructor(e){super(e),this.Mode="save",this.Model=new d.a5U}ngOnInit(){this.loadLookups(),this.CheckAddOrEdit()}CheckAddOrEdit(){this.activateRoute.queryParams.subscribe(e=>{if(e){var n=d.Duk.fromJS(JSON.parse(e.test));this.Mode="update",this.Model.id=n.id,this.Model.testName=n.testName,this.Model.testShortcutName=n.testShortcutName,this.Model.priceInMainPriceList=n.priceInMainPriceList,this.SelectedTestDepartmentId=n.testDepartmentId,this.SelectedTestVacutianersId=n.testVacutainerId,this.SelectedTestSampleTypesId=n.testSampleTypeId,this.cdRef.detectChanges()}})}loadLookups(){this.service.getAllTestDepartment().subscribe({next:e=>{this.TestDepartments=e,this.cdRef.detectChanges()}}),this.service.getAllTestSampleType().subscribe({next:e=>{this.TestSampleTypes=e,this.cdRef.detectChanges()}}),this.service.getAllVacutianer().subscribe({next:e=>{this.TestVacutianers=e,this.cdRef.detectChanges()}})}SaveOrUpdate(e){this.Model.testDepartmentId=this.SelectedTestDepartmentId,this.Model.testVacutainerId=this.SelectedTestVacutianersId,this.Model.testSampleTypeId=this.SelectedTestSampleTypesId,"update"==this.Mode&&0!=this.Model.id?this.Update(e):"save"==this.Mode&&this.Create(e)}Create(e){this.service.createTest(this.Model).subscribe({next:n=>{this.ExecutAction(e),this.cts.sendTosterWithoutLog("success","\u0639\u0645\u0644\u064a\u0629 \u0646\u0627\u062c\u062d\u0629","\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062a\u062d\u0644\u064a\u0644 \u0628\u0646\u062c\u0627\u062d ")},error:n=>{console.log(n),this.cts.sendTosterWithoutLog("error","\u062d\u062f\u062b \u062e\u0637\u0623","\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u062a\u062d\u0644\u064a\u0644 \u062c\u062f\u064a\u062f")}})}Update(e){this.service.updateTest(this.Model).subscribe({next:n=>{this.ExecutAction(e),this.cts.sendTosterWithoutLog("success","\u0639\u0645\u0644\u064a\u0629 \u0646\u0627\u062c\u062d\u0629","\u062a\u0645 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d ")},error:n=>{console.log(n),this.cts.sendTosterWithoutLog("error","\u062d\u062f\u062b \u062e\u0637\u0623","\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0639\u062f\u064a\u0644 \u062a\u062d\u0644\u064a\u0644")}})}Clear(){this.Model=new d.a5U,this.SelectedTestDepartmentId=0,this.SelectedTestVacutianersId=0,this.SelectedTestSampleTypesId=0,this.Mode="save"}ExecutAction(e){switch(e){case 1:case 4:return void this.Clear();case 2:case 3:return void this.router.navigate(["/MedicalTests/MedicalTest"]);default:return}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-CreateOrEditMedicalTest"]],features:[t.qOj],decls:53,vars:16,consts:[[1,"card","card-flush","shadow-sm"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],["routerLink","/MedicalTests/MedicalTest",1,"btn","btn-primary"],[1,"card-body","py-5"],[1,"row"],[1,"col-md-4"],[1,"d-flex","flex-column","mb-8","fv-row"],[1,"d-flex","align-items-center","fs-6","fw-bold","mb-2"],[1,""],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["styleClass"," taj-font fc-primng","placeholder","\u0627\u062e\u062a\u0631 \u0627\u0644\u0642\u0633\u0645","filterBy","name","optionLabel","name","optionValue","id",3,"options","filter","ngModel","ngModelChange"],["styleClass"," taj-font fc-primng","placeholder","\u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0639\u064a\u0646\u0629","filterBy","name","optionLabel","name","optionValue","id",3,"options","filter","ngModel","ngModelChange"],["styleClass"," taj-font fc-primng","placeholder","\u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0639\u0628\u0648\u0629","filterBy","name","optionLabel","name","optionValue","id",3,"options","filter","ngModel","ngModelChange"],["type","text","placeholder","\u0627\u062f\u062e\u0644 \u0633\u0639\u0631 \u0627\u0644\u062a\u062d\u0644\u064a\u0644",1,"form-control",3,"ngModel","ngModelChange"],[1,"row",2,"display","flex","justify-content","center"],[1,"col-md-5",2,"display","flex","justify-content","center"],["class","btn btn-light-success mx-3","style","margin-top: 30px;direction: ltr;width: 35%;",3,"click",4,"ngIf"],["class","btn btn-light-primary mx-3","style","margin-top: 30px;direction: ltr;width: 35%;",3,"click",4,"ngIf"],[1,"btn","btn-light-success","mx-3",2,"margin-top","30px","direction","ltr","width","35%",3,"click"],[1,"fa-solid","fa-floppy-disk"],[1,"btn","btn-light-primary","mx-3",2,"margin-top","30px","direction","ltr","width","35%",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062d\u0644\u064a\u0644 "),t.qZA(),t.TgZ(4,"div",3)(5,"a",4),t._uU(6," \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 "),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9)(12,"span",10),t._uU(13," \u0625\u0633\u0645 \u0627\u0644\u062a\u062d\u0644\u064a\u0644 "),t.qZA()(),t.TgZ(14,"input",11),t.NdJ("ngModelChange",function(a){return n.Model.testName=a}),t.qZA()()(),t.TgZ(15,"div",7)(16,"div",8)(17,"label",9)(18,"span",10),t._uU(19,"\u0625\u0633\u0645 \u0627\u0644\u0645\u062e\u062a\u0635\u0631 "),t.qZA()(),t.TgZ(20,"input",11),t.NdJ("ngModelChange",function(a){return n.Model.testShortcutName=a}),t.qZA()()()(),t._UZ(21,"br"),t.TgZ(22,"div",6)(23,"div",7)(24,"div",8)(25,"label",9)(26,"span",10),t._uU(27,"\u0627\u0644\u0642\u0633\u0645"),t.qZA()(),t.TgZ(28,"p-dropdown",12),t.NdJ("ngModelChange",function(a){return n.SelectedTestDepartmentId=a}),t.qZA()()(),t.TgZ(29,"div",7)(30,"div",8)(31,"label",9)(32,"span",10),t._uU(33,"\u0646\u0648\u0639 \u0627\u0644\u0639\u064a\u0646\u0647 "),t.qZA()(),t.TgZ(34,"p-dropdown",13),t.NdJ("ngModelChange",function(a){return n.SelectedTestSampleTypesId=a}),t.qZA()()(),t.TgZ(35,"div",7)(36,"div",8)(37,"label",9)(38,"span",10),t._uU(39,"\u0646\u0648\u0639 \u0627\u0644\u0639\u0628\u0648\u0629"),t.qZA()(),t.TgZ(40,"p-dropdown",14),t.NdJ("ngModelChange",function(a){return n.SelectedTestVacutianersId=a}),t.qZA()()(),t.TgZ(41,"div",7)(42,"div",8)(43,"label",9)(44,"span",10),t._uU(45,"\u0633\u0639\u0631 \u0627\u0644\u062a\u062d\u0644\u064a\u0644"),t.qZA()(),t.TgZ(46,"input",15),t.NdJ("ngModelChange",function(a){return n.Model.priceInMainPriceList=a}),t.qZA()()()(),t.TgZ(47,"div",16)(48,"div",17),t.YNc(49,Lt,3,0,"button",18),t.YNc(50,Bt,3,0,"button",19),t.YNc(51,Ft,3,0,"button",19),t.YNc(52,Dt,3,0,"button",19),t.qZA()()()()),2&e&&(t.xp6(14),t.Q6J("ngModel",n.Model.testName),t.xp6(6),t.Q6J("ngModel",n.Model.testShortcutName),t.xp6(8),t.Q6J("options",n.TestDepartments)("filter",!0)("ngModel",n.SelectedTestDepartmentId),t.xp6(6),t.Q6J("options",n.TestSampleTypes)("filter",!0)("ngModel",n.SelectedTestSampleTypesId),t.xp6(6),t.Q6J("options",n.TestVacutianers)("filter",!0)("ngModel",n.SelectedTestVacutianersId),t.xp6(6),t.Q6J("ngModel",n.Model.priceInMainPriceList),t.xp6(3),t.Q6J("ngIf","save"==n.Mode),t.xp6(1),t.Q6J("ngIf","save"==n.Mode),t.xp6(1),t.Q6J("ngIf","update"==n.Mode),t.xp6(1),t.Q6J("ngIf","update"==n.Mode))},dependencies:[m.O5,p.Fj,p.JJ,p.On,_.rH,M.Lt]}),i})(),data:{animation:"CreateOrEditMedicalTest"}},{path:"MedicalTestConfiguration",canActivate:[C.o],component:(()=>{class i extends b.H{constructor(e){super(e),this.injector=e,this.ArrayOfData=[],this.testConfig=new d.O3T,this.testId=0}ngOnInit(){this.CheckAddOrEdit()}CheckAddOrEdit(){this.activateRoute.queryParams.subscribe(e=>{if(e){let n=new d.nil;n.testId=Number(e.testId),this.testId=Number(e.testId),this.service.getTestConfigTask(n).subscribe({next:o=>{this.testConfig=d.O3T.fromJS(o),this.testConfigObj=this.testConfig;for(let r in o){if(r.endsWith("Title")&&r.length<=8&&o[r]){let c=r.match(/\d+/),u=null;c&&c.length>0&&(u=parseInt(c[0])),this.ArrayOfData.push({number:u,key:r,title:o[r],default:"",unit:"",normal:""})}if(r.endsWith("Default")&&r.length<=11&&o[r]){let c=r.match(/\d+/),u=null;c&&c.length>0&&(u=parseInt(c[0]));var a=this.ArrayOfData.findIndex(f=>f.number==u);this.ArrayOfData[a].default=o[r]}if(r.startsWith("testNormal")&&o[r]){let c=r.match(/\d+/),u=null;c&&c.length>0&&(u=parseInt(c[0])),a=this.ArrayOfData.findIndex(T=>T.number==u),this.ArrayOfData[a].normal=o[r]}if(r.startsWith("testUnit")&&o[r]){let c=r.match(/\d+/),u=null;c&&c.length>0&&(u=parseInt(c[0])),a=this.ArrayOfData.findIndex(T=>T.number==u),this.ArrayOfData[a].unit=o[r]}}this.cdRef.detectChanges()}})}})}AddNew(){const e=this.ArrayOfData.reduce((n,o)=>Math.max(n,o.number),0);this.ArrayOfData.push({number:e+1,key:"r"+Number(e+1)+"Title",title:"",default:"",unit:"",normal:""})}Save(){var e=[];this.ArrayOfData.forEach(a=>{let r=a.key.match(/\d+/),c=null;r&&r.length>0&&(c=parseInt(r[0])),e.push(c),this.testConfigObj["r"+c+"Title"]=a.title,this.testConfigObj["r"+c+"Default"]=a.default,this.testConfigObj["testNormal"+c]=a.normal,this.testConfigObj["testUnit"+c]=a.unit});const n=[];for(let a=1;a<=30;a++)e.includes(a)||n.push(a);n.forEach(a=>{this.testConfigObj["r"+a+"Title"]=void 0,this.testConfigObj["r"+a+"Default"]=void 0,this.testConfigObj["testNormal"+a]=void 0,this.testConfigObj["testUnit"+a]=void 0});var o=JSON.stringify(this.testConfigObj);this.testConfig=d.O3T.fromJS(JSON.parse(o)),this.testConfig.testCode=this.testId,this.service.saveTestConfigTask(this.testConfig).subscribe({next:a=>{this.cts.sendTosterWithoutLog("success","\u0639\u0645\u0644\u064a\u0629 \u0646\u0627\u062c\u062d\u0629","\u062a\u0645 \u0627\u0644\u062d\u0641\u0638 \u0628\u0646\u062c\u0627\u062d")}})}Delete(e){var n=this.ArrayOfData.findIndex(o=>o.number==e.number);-1!==n&&this.ArrayOfData.splice(n,1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-MedicalTestConfiguration"]],features:[t.qOj],decls:31,vars:1,consts:[[1,"card","card-flush","shadow-sm"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],["routerLink","/MedicalTests/MedicalTest",1,"btn","btn-primary"],[1,"card-body","py-5"],[1,"row","m-7"],[2,"direction","ltr"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062a\u062d\u0644\u064a\u0644 "),t.qZA(),t.TgZ(4,"div",3)(5,"a",4),t._uU(6," \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062a\u062d\u0627\u0644\u064a\u0644 "),t.qZA()()(),t.TgZ(7,"div",5),t._UZ(8,"br"),t.TgZ(9,"div",6)(10,"div",7)(11,"table",8)(12,"thead")(13,"th"),t._uU(14," Title "),t.qZA(),t.TgZ(15,"th"),t._uU(16," Defualt "),t.qZA(),t.TgZ(17,"th"),t._uU(18," Unit "),t.qZA(),t.TgZ(19,"th"),t._uU(20," Normal "),t.TgZ(21,"small"),t._uU(22,"(html)"),t.qZA()(),t.TgZ(23,"th"),t._uU(24," Tools "),t.qZA()(),t.TgZ(25,"tbody"),t.YNc(26,Nt,12,4,"tr",9),t.TgZ(27,"button",10),t.NdJ("click",function(){return n.AddNew()}),t._uU(28," Add New "),t.qZA()()()(),t.TgZ(29,"button",10),t.NdJ("click",function(){return n.Save()}),t._uU(30," Save "),t.qZA()()()()),2&e&&(t.xp6(26),t.Q6J("ngForOf",n.ArrayOfData))},dependencies:[m.sg,p.Fj,p.JJ,p.On,_.rH]}),i})(),data:{animation:"MedicalTestConfiguration"}}];let zt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.Bz.forChild(It),_.Bz]}),i})();var Pt=l(8624),Ot=l(7913),Ut=l(613);let kt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.ez,Pt.m,p.u5,Ot.Iu,S.nD,Ut.cc,zt,M.kW]}),i})()}}]);