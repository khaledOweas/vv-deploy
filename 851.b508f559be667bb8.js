"use strict";(self.webpackChunkEKOWebUI=self.webpackChunkEKOWebUI||[]).push([[851],{4851:(J,d,s)=>{s.r(d),s.d(d,{ReportsModule:()=>A});var F=s(6895),p=s(7799),D=s(9345),m=s(805),h=s(4325),f=s(1462),c=s(5153),l=s(2327),e=s(4650),g=s(529),R=s(2340);let v=(()=>{class o{constructor(t){this._httpClient=t}downloadFile(t){return this._httpClient.post(R.N.apiUrl+"/Reports/ExportDeelReportToExcelSheet",t,{observe:"response",responseType:"blob"})}saveFile(t){this.downloadFile(t).subscribe(r=>{let n=document.createElement("a");n.href=window.URL.createObjectURL(r.body),n.setAttribute("download","DeelReport"),document.body.appendChild(n),n.click(),n.remove()})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(g.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var S=s(9320),T=s(1843),C=s(4380),u=s(2453);const y=[{path:"",redirectTo:"DeelReport",pathMatch:"full"},{path:"DeelReport",canActivate:[D.o],component:(()=>{class o{constructor(t,r,n,i,M,W){this.service=t,this.cdRef=r,this.dialogService=n,this.messageService=i,this.reportService=M,this.cts=W,this.contentFirstBtnForFirstButton='<i class="pi pi-book text-white"></i>',this.classForFirstButtonForFirstButton=" bg-info text-white",this.contentSecondBtnForFirstButton='<i class="pi pi-print text-white"></i>',this.classForSecondButtonForSecondButton=" bg-success text-white",this.Cols=f.L7}Search(t){let r=new c.J6k;r.deelId=t.SelectedDeel.id,r.dateFrom=t.DateFrom,r.dateTo=t.DateTo,this.service.getDeelReport(r).subscribe({next:n=>{this.Data=n,this.cts.sendToster("success","\u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0639\u0646 \u062a\u0639\u0627\u0642\u062f\u0627\u062a","\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0628\u0646\u062c\u0627\u062d",` \u0627\u0633\u062a\u0639\u0644\u0627\u0645 \u0639\u0646 \u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062a\u0639\u0627\u0642\u062f\u0627\u062a \u0645\u0646 \u0641\u062a\u0631\u0629 ${l.s.Formate(r.dateFrom)} \u0625\u0644\u064a \u0641\u062a\u0631\u0629 ${l.s.Formate(r.dateTo)} \u0644\u0644\u062a\u0639\u0627\u0642\u062f / ${t.SelectedDeel.name}  `),this.cdRef.detectChanges()},error:n=>{}})}DownloadFile(t){let r=new c.J6k;r.deelId=t.SelectedDeel.id,r.dateFrom=t.DateFrom,r.dateTo=t.DateTo,this.cts.sendToster("success","\u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644 \u0644\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062a\u0639\u0627\u0642\u062f\u0627\u062a","\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644 \u0628\u0646\u062c\u0627\u062d",` \u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644 \u0644\u0644\u062a\u0642\u0631\u064a\u0631 \u0627\u0644\u062a\u0639\u0627\u0642\u062f\u0627\u062a ${l.s.Formate(r.dateFrom)} \u0625\u0644\u064a \u0641\u062a\u0631\u0629 ${l.s.Formate(r.dateTo)} \u0644\u0644\u062a\u0639\u0627\u0642\u062f / ${t.SelectedDeel.name}  `),this.reportService.saveFile(r)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.KUN),e.Y36(e.sBO),e.Y36(h.xA),e.Y36(m.ez),e.Y36(v),e.Y36(S.m))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-deel-report"]],features:[e._Bn([m.ez,h.xA])],decls:10,vars:11,consts:[["position","top-left",3,"showTransformOptions"],[1,"card","card-flush","shadow-sm"],[1,"card-header"],["translate","MENU.Revision",1,"card-title"],[1,"card-toolbar"],[1,"card-body","py-5"],[3,"rangeDates","WithBranch","WithSinglDeel","WithDownloadExcel","onDownloadExcelFile","onSearchSubmit"],[1,"row"],[3,"cols","rowsPageNumbers","data","chooseColomns","pagination","scrollable"]],template:function(t,r){1&t&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"h3",3)(4,"div",4),e.qZA(),e.TgZ(5,"div",5)(6,"app-searchcriteria",6),e.NdJ("onDownloadExcelFile",function(i){return r.DownloadFile(i)})("onSearchSubmit",function(i){return r.Search(i)}),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"div",7),e._UZ(9,"app-shared-datatable",8),e.qZA()()()),2&t&&(e.Q6J("showTransformOptions","translateX(100%)"),e.xp6(6),e.Q6J("rangeDates",r.rangeDates)("WithBranch",!1)("WithSinglDeel",!0)("WithDownloadExcel",!0),e.xp6(3),e.Q6J("cols",r.Cols)("rowsPageNumbers",25)("data",r.Data)("chooseColomns",!0)("pagination",!0)("scrollable",!1))},dependencies:[T.G,C.d,u.FN]}),o})(),data:{animation:"DeelReport"}}];let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(y),p.Bz]}),o})();var w=s(8624),x=s(4006),U=s(2210),Z=s(7772),b=s(2665);let A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[v],imports:[F.ez,w.m,E,x.u5,u.EV,U.kW,Z.$,b.O]}),o})()}}]);